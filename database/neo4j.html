<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>什么是Neo4j | 我的博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="chenyukang的博客">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.920bfab8.js" as="script"><link rel="preload" href="/assets/js/2.29230202.js" as="script"><link rel="preload" href="/assets/js/1.185b50a8.js" as="script"><link rel="preload" href="/assets/js/23.5d7d4d5b.js" as="script"><link rel="prefetch" href="/assets/js/10.b67bc8a6.js"><link rel="prefetch" href="/assets/js/11.2689ba83.js"><link rel="prefetch" href="/assets/js/12.7bdc8d5d.js"><link rel="prefetch" href="/assets/js/13.786f62b7.js"><link rel="prefetch" href="/assets/js/14.91be0496.js"><link rel="prefetch" href="/assets/js/15.9f59e3b5.js"><link rel="prefetch" href="/assets/js/16.47e1d84d.js"><link rel="prefetch" href="/assets/js/17.368b07ea.js"><link rel="prefetch" href="/assets/js/18.8241d824.js"><link rel="prefetch" href="/assets/js/19.56a0d05b.js"><link rel="prefetch" href="/assets/js/20.87ddadca.js"><link rel="prefetch" href="/assets/js/21.e21ffad3.js"><link rel="prefetch" href="/assets/js/22.8f778419.js"><link rel="prefetch" href="/assets/js/24.ad5d8dbc.js"><link rel="prefetch" href="/assets/js/3.8af8fcbf.js"><link rel="prefetch" href="/assets/js/4.0471e9ae.js"><link rel="prefetch" href="/assets/js/5.842b4107.js"><link rel="prefetch" href="/assets/js/6.9f813617.js"><link rel="prefetch" href="/assets/js/7.deca3814.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.934ed2fb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">我的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="chenyukang的博客" class="dropdown-title"><span class="title">chenyukang的博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="chenyukang的博客" class="mobile-dropdown-title"><span class="title">chenyukang的博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chenyukang1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="chenyukang的博客" class="dropdown-title"><span class="title">chenyukang的博客</span> <span class="arrow down"></span></button> <button type="button" aria-label="chenyukang的博客" class="mobile-dropdown-title"><span class="title">chenyukang的博客</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/chenyukang1" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">博客简介</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/database/neo4j" class="sidebar-heading clickable open active"><span>数据库</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/database/neo4j.html" aria-current="page" class="active sidebar-link">Neo4j</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/database/neo4j.html#什么是neo4j" class="sidebar-link">什么是Neo4j</a></li><li class="sidebar-sub-header"><a href="/database/neo4j.html#为什么用neo4j" class="sidebar-link">为什么用Neo4j</a></li><li class="sidebar-sub-header"><a href="/database/neo4j.html#免索引邻接-index-free-adjacency" class="sidebar-link">免索引邻接（Index-Free Adjacency）</a></li><li class="sidebar-sub-header"><a href="/database/neo4j.html#neo4j内存模型" class="sidebar-link">Neo4j内存模型</a></li><li class="sidebar-sub-header"><a href="/database/neo4j.html#参考" class="sidebar-link">参考</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/mybatis/mapperscan" class="sidebar-heading clickable"><span>框架</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="什么是neo4j"><a href="#什么是neo4j" class="header-anchor">#</a> 什么是Neo4j</h2> <h3 id="节点"><a href="#节点" class="header-anchor">#</a> 节点</h3> <p>节点（或顶点）是图中的圆。节点通常代表物体、实体或单纯的事物</p> <h4 id="标签-label"><a href="#标签-label" class="header-anchor">#</a> 标签 Label</h4> <p>在节点上添加标签，就表示该节点属于图中的一个节点子集。 标签在 Neo4j 中非常重要，因为它们为 Cypher 语句提供了一个起点</p> <p><img src="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/2-property-graphs/1-property-graph/images/node-labels.jpg" alt="Nodes with labels"></p> <h4 id="属性-properties"><a href="#属性-properties" class="header-anchor">#</a> 属性 Properties</h4> <p>属性是键、值对，可根据需要从节点中添加或删除。 属性值可以是单个值，也可以是符合 Cypher 类型系统的值列表</p> <p><img src="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/2-property-graphs/1-property-graph/images/node-properties.jpg" alt="Nodes with properties"></p> <h3 id="关系"><a href="#关系" class="header-anchor">#</a> 关系</h3> <p>关系（或边）用于连接节点。我们可以使用关系来描述节点之间的连接方式</p> <h4 id="方向-direction"><a href="#方向-direction" class="header-anchor">#</a> 方向 Direction</h4> <p>在 Neo4j 中，每个关系在图中都必须有一个方向。 虽然这个方向是必须的，但关系可以在任何一个方向上查询，也可以在查询时完全忽略</p> <h4 id="类型-type"><a href="#类型-type" class="header-anchor">#</a> 类型 Type</h4> <p>Neo4j 图形中的每个关系都必须有一个类型。 这样，我们就可以在查询时选择要遍历图的哪一部分</p> <h4 id="属性-properties-2"><a href="#属性-properties-2" class="header-anchor">#</a> 属性 Properties</h4> <p>与节点一样，关系也可以具有属性。 这些属性可以是加权图中的成本或距离，也可以只是为关系提供额外的上下文</p> <h2 id="为什么用neo4j"><a href="#为什么用neo4j" class="header-anchor">#</a> 为什么用Neo4j</h2> <ul><li><p>Neo4j 是一个<strong>原生图数据库</strong>，这意味着从数据存储到查询语言的所有设计都考虑到了遍历。在类似多跳查询的场景有非常高的查询效率</p></li> <li><p>与其他企业 DBMS 一样，Neo4j 也符合 ACID 标准。 事务中的一组修改要么全部提交，要么全部失败</p></li> <li><p>免索引邻接</p></li></ul> <h2 id="免索引邻接-index-free-adjacency"><a href="#免索引邻接-index-free-adjacency" class="header-anchor">#</a> 免索引邻接（Index-Free Adjacency）</h2> <p>免索引邻接（Index-Free Adjacency） 是一种数据存储和查询优化技术，主要用于图数据库（Graph Database）中。与传统的关系型数据库不同，图数据库通过节点（Node）和边（Edge）来表示实体及其关系。免索引邻接的核心思想是将相邻节点的引用直接存储在节点本身中，而不是依赖于全局索引来查找关联数据</p> <h3 id="工作原理"><a href="#工作原理" class="header-anchor">#</a> 工作原理</h3> <p>在免索引邻接模型中，每个节点都包含对其相邻节点的直接引用（通常是内存地址或指针）。这意味着当需要访问某个节点的邻居时，可以直接通过这些引用快速定位到相关节点，而无需进行复杂的索引查找操作</p> <h3 id="数据结构"><a href="#数据结构" class="header-anchor">#</a> 数据结构</h3> <p>常见的实现方式包括：</p> <ul><li><p>链表：每个节点维护一个指向其相邻节点的链表</p></li> <li><p>数组：使用数组或列表来存储相邻节点的引用</p></li> <li><p>哈希表：对于稀疏图，可以使用哈希表来存储相邻节点的引用，以提高查找效率</p></li></ul> <h3 id="概念图"><a href="#概念图" class="header-anchor">#</a> 概念图</h3> <p><img src="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/2-property-graphs/2-native-graph/images/IFA-1-new.png" alt="IFA-1-new"></p> <p><img src="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/2-property-graphs/2-native-graph/images/IFA-2-new.png" alt="IFA-2-new"></p> <div class="language-cypher extra-class"><pre class="language-cypher"><code><span class="token keyword">MATCH</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&lt;--</span> <span class="token punctuation">(</span><span class="token operator">:</span><span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token operator">&lt;--</span> <span class="token punctuation">(</span><span class="token operator">:</span><span class="token class-name">Group</span><span class="token punctuation">)</span> <span class="token operator">&lt;--</span> <span class="token punctuation">(</span><span class="token operator">:</span><span class="token class-name">Group</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">RETURN</span> n<span class="token punctuation">.</span>id
</code></pre></div><p><img src="https://graphacademy.neo4j.com/courses/neo4j-fundamentals/2-property-graphs/2-native-graph/images/IFA-3-new.png" alt="IFA-3-new"></p> <h3 id="优点"><a href="#优点" class="header-anchor">#</a> 优点</h3> <h4 id="高效的遍历性能"><a href="#高效的遍历性能" class="header-anchor">#</a> 高效的遍历性能</h4> <p>由于不需要通过索引查找相邻节点，免索引邻接大大提高了图遍历的速度。特别是在深度优先搜索（DFS）、广度优先搜索（BFS）等算法中，能够显著减少查询延迟</p> <h4 id="减少索引开销"><a href="#减少索引开销" class="header-anchor">#</a> 减少索引开销</h4> <p>传统的关系型数据库需要为每种关系类型创建索引，这会占用大量的存储空间并增加写入操作的复杂性。免索引邻接避免了这些问题，减少了索引维护的开销</p> <h4 id="简化查询逻辑"><a href="#简化查询逻辑" class="header-anchor">#</a> 简化查询逻辑</h4> <p>查询逻辑变得更加直观和简单。开发者可以直接通过节点的引用访问相邻节点，而无需编写复杂的 SQL 查询语句或处理多表连接</p> <h3 id="缺点"><a href="#缺点" class="header-anchor">#</a> 缺点</h3> <h4 id="内存占用较高"><a href="#内存占用较高" class="header-anchor">#</a> 内存占用较高</h4> <p>由于每个节点都需要存储其相邻节点的引用，这可能会导致较大的内存开销，尤其是在图非常稠密的情况下</p> <h4 id="不适合频繁更新的场景"><a href="#不适合频繁更新的场景" class="header-anchor">#</a> 不适合频繁更新的场景</h4> <p>如果图结构频繁变化（如节点和边的增删），维护这些直接引用会变得复杂且耗时。每次修改图结构时，都需要更新相关节点的引用信息</p> <h2 id="neo4j内存模型"><a href="#neo4j内存模型" class="header-anchor">#</a> Neo4j内存模型</h2> <p><img src="https://neo4j.com/docs/operations-manual/current/_images/neo4j-memory-management.svg" alt="image.png">
一台专门部署Neo4j的机器可以把内存分为几块：</p> <ul><li>OS内存</li> <li>Neo4j堆内存</li> <li>Neo4j堆外内存（直接内存）</li></ul> <h3 id="堆外内存"><a href="#堆外内存" class="header-anchor">#</a> 堆外内存</h3> <p>堆外内存是 Neo4j 直接从操作系统分配的内存。这种内存会根据需要动态增长，不受垃圾回收器的影响</p> <h3 id="页缓存"><a href="#页缓存" class="header-anchor">#</a> 页缓存</h3> <p>页面缓存用于缓存存储在磁盘上的 Neo4j 数据。将图形数据和索引缓存到内存中有助于避免昂贵的磁盘访问，从而获得最佳性能
指定 Neo4j 允许页面缓存使用多少内存的参数是：<code>server.memory.pagecache.size</code></p> <p>推荐阅读：</p> <ul><li><p>https://neo4j.com/docs/operations-manual/current/performance/memory-configuration/</p></li> <li><p>https://neo4j.com/developer/kb/understanding-memory-consumption/</p></li></ul> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <p>https://graphacademy.neo4j.com/courses/neo4j-fundamentals</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        博客简介
      </a></span> <span class="next"><a href="/mybatis/mapperscan.html">
        Mybatis
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.920bfab8.js" defer></script><script src="/assets/js/2.29230202.js" defer></script><script src="/assets/js/1.185b50a8.js" defer></script><script src="/assets/js/23.5d7d4d5b.js" defer></script>
  </body>
</html>
